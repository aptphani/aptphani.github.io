/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three-trackballcontrols@0.9.0/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const THREE=window.THREE||require("three"),TrackballControls=function(e,t){void 0===t&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');const o=this,n={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=t,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.mouseButtons={LEFT:THREE.MOUSE.ROTATE,MIDDLE:THREE.MOUSE.ZOOM,RIGHT:THREE.MOUSE.PAN},this.target=new THREE.Vector3;const c=new THREE.Vector3;let s=n.NONE,a=n.NONE,i=new THREE.Vector3,r=new THREE.Vector2,p=new THREE.Vector2,d=new THREE.Vector3,E=0,u=new THREE.Vector2,m=new THREE.Vector2,h=0,l=0,g=new THREE.Vector2,y=new THREE.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom;var v={type:"change"},w={type:"start"},T={type:"end"};this.handleResize=function(){const e=o.domElement.getBoundingClientRect(),t=o.domElement.ownerDocument.documentElement;o.screen.left=e.left+window.pageXOffset-t.clientLeft,o.screen.top=e.top+window.pageYOffset-t.clientTop,o.screen.width=e.width,o.screen.height=e.height};const f=function(){const e=new THREE.Vector2;return function(t,n){return e.set((t-o.screen.left)/o.screen.width,(n-o.screen.top)/o.screen.height),e}}(),b=function(){const e=new THREE.Vector2;return function(t,n){return e.set((t-.5*o.screen.width-o.screen.left)/(.5*o.screen.width),(o.screen.height+2*(o.screen.top-n))/o.screen.width),e}}();function O(e){if(!1!==o.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(e.preventDefault(),e.stopPropagation(),s===n.NONE)switch(e.button){case o.mouseButtons.LEFT:s=n.ROTATE;break;case o.mouseButtons.MIDDLE:s=n.ZOOM;break;case o.mouseButtons.RIGHT:s=n.PAN;break;default:s=n.NONE}const t=a!==n.NONE?a:s;t!==n.ROTATE||o.noRotate?t!==n.ZOOM||o.noZoom?t!==n.PAN||o.noPan||(g.copy(f(e.pageX,e.pageY)),y.copy(g)):(u.copy(f(e.pageX,e.pageY)),m.copy(u)):(p.copy(b(e.pageX,e.pageY)),r.copy(p));o.domElement.ownerDocument.addEventListener("pointermove",R,!1),o.domElement.ownerDocument.addEventListener("pointerup",H,!1),o.dispatchEvent(w)}(e)}}function R(e){if(!1!==o.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===o.enabled)return;e.preventDefault(),e.stopPropagation();const t=a!==n.NONE?a:s;t!==n.ROTATE||o.noRotate?t!==n.ZOOM||o.noZoom?t!==n.PAN||o.noPan||y.copy(f(e.pageX,e.pageY)):m.copy(f(e.pageX,e.pageY)):(r.copy(p),p.copy(b(e.pageX,e.pageY)))}(e)}}function H(e){if(!1!==o.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===o.enabled)return;e.preventDefault(),e.stopPropagation(),s=n.NONE,o.domElement.ownerDocument.removeEventListener("pointermove",R),o.domElement.ownerDocument.removeEventListener("pointerup",H),o.dispatchEvent(T)}(e)}}function L(e){!1!==o.enabled&&(window.removeEventListener("keydown",L),a===n.NONE&&(e.keyCode!==o.keys[n.ROTATE]||o.noRotate?e.keyCode!==o.keys[n.ZOOM]||o.noZoom?e.keyCode!==o.keys[n.PAN]||o.noPan||(a=n.PAN):a=n.ZOOM:a=n.ROTATE))}function N(){!1!==o.enabled&&(a=n.NONE,window.addEventListener("keydown",L,!1))}function D(e){if(!1!==o.enabled&&!0!==o.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:u.y-=.025*e.deltaY;break;case 1:u.y-=.01*e.deltaY;break;default:u.y-=25e-5*e.deltaY}o.dispatchEvent(w),o.dispatchEvent(T)}}function k(e){if(!1!==o.enabled){if(e.preventDefault(),1===e.touches.length)s=n.TOUCH_ROTATE,p.copy(b(e.touches[0].pageX,e.touches[0].pageY)),r.copy(p);else{s=n.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,c=e.touches[0].pageY-e.touches[1].pageY;l=h=Math.sqrt(t*t+c*c);var a=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;g.copy(f(a,i)),y.copy(g)}o.dispatchEvent(w)}}function V(e){if(!1!==o.enabled)if(e.preventDefault(),e.stopPropagation(),1===e.touches.length)r.copy(p),p.copy(b(e.touches[0].pageX,e.touches[0].pageY));else{var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;l=Math.sqrt(t*t+n*n);var c=(e.touches[0].pageX+e.touches[1].pageX)/2,s=(e.touches[0].pageY+e.touches[1].pageY)/2;y.copy(f(c,s))}}function A(e){if(!1!==o.enabled){switch(e.touches.length){case 0:s=n.NONE;break;case 1:s=n.TOUCH_ROTATE,p.copy(b(e.touches[0].pageX,e.touches[0].pageY)),r.copy(p)}o.dispatchEvent(T)}}function j(e){!1!==o.enabled&&e.preventDefault()}this.rotateCamera=function(){let e,t=new THREE.Vector3,n=new THREE.Quaternion,c=new THREE.Vector3,s=new THREE.Vector3,a=new THREE.Vector3,u=new THREE.Vector3;return function(){u.set(p.x-r.x,p.y-r.y,0),e=u.length(),e?(i.copy(o.object.position).sub(o.target),c.copy(i).normalize(),s.copy(o.object.up).normalize(),a.crossVectors(s,c).normalize(),s.setLength(p.y-r.y),a.setLength(p.x-r.x),u.copy(s.add(a)),t.crossVectors(u,i).normalize(),e*=o.rotateSpeed,n.setFromAxisAngle(t,e),i.applyQuaternion(n),o.object.up.applyQuaternion(n),d.copy(t),E=e):!o.staticMoving&&E&&(E*=Math.sqrt(1-o.dynamicDampingFactor),i.copy(o.object.position).sub(o.target),n.setFromAxisAngle(d,E),i.applyQuaternion(n),o.object.up.applyQuaternion(n)),r.copy(p)}}(),this.zoomCamera=function(){let e;s===n.TOUCH_ZOOM_PAN?(e=h/l,h=l,i.multiplyScalar(e)):(e=1+(m.y-u.y)*o.zoomSpeed,1!==e&&e>0&&i.multiplyScalar(e),o.staticMoving?u.copy(m):u.y+=(m.y-u.y)*this.dynamicDampingFactor)},this.panCamera=function(){let e=new THREE.Vector2,t=new THREE.Vector3,n=new THREE.Vector3;return function(){e.copy(y).sub(g),e.lengthSq()&&(e.multiplyScalar(i.length()*o.panSpeed),n.copy(i).cross(o.object.up).setLength(e.x),n.add(t.copy(o.object.up).setLength(e.y)),o.object.position.add(n),o.target.add(n),o.staticMoving?g.copy(y):g.add(e.subVectors(y,g).multiplyScalar(o.dynamicDampingFactor)))}}(),this.checkDistances=function(){o.noZoom&&o.noPan||(i.lengthSq()>o.maxDistance*o.maxDistance&&(o.object.position.addVectors(o.target,i.setLength(o.maxDistance)),u.copy(m)),i.lengthSq()<o.minDistance*o.minDistance&&(o.object.position.addVectors(o.target,i.setLength(o.minDistance)),u.copy(m)))},this.update=function(){i.subVectors(o.object.position,o.target),o.noRotate||o.rotateCamera(),o.noZoom||o.zoomCamera(),o.noPan||o.panCamera(),o.object.position.addVectors(o.target,i),o.checkDistances(),o.object.lookAt(o.target),c.distanceToSquared(o.object.position)>1e-6&&(o.dispatchEvent(v),c.copy(o.object.position))},this.reset=function(){s=n.NONE,a=n.NONE,o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.up.copy(o.up0),i.subVectors(o.object.position,o.target),o.object.lookAt(o.target),o.dispatchEvent(v),c.copy(o.object.position)},this.dispose=function(){o.domElement.removeEventListener("contextmenu",j,!1),o.domElement.removeEventListener("pointerdown",O,!1),o.domElement.removeEventListener("wheel",D,!1),o.domElement.removeEventListener("touchstart",k,!1),o.domElement.removeEventListener("touchend",A,!1),o.domElement.removeEventListener("touchmove",V,!1),o.domElement.ownerDocument.removeEventListener("pointermove",R,!1),o.domElement.ownerDocument.removeEventListener("pointerup",H,!1),window.removeEventListener("keydown",L,!1),window.removeEventListener("keyup",N,!1)},this.domElement.addEventListener("contextmenu",j,!1),this.domElement.addEventListener("pointerdown",O,!1),this.domElement.addEventListener("wheel",D,!1),this.domElement.addEventListener("touchstart",k,!1),this.domElement.addEventListener("touchend",A,!1),this.domElement.addEventListener("touchmove",V,!1),this.domElement.ownerDocument.addEventListener("pointermove",R,!1),this.domElement.ownerDocument.addEventListener("pointerup",H,!1),window.addEventListener("keydown",L,!1),window.addEventListener("keyup",N,!1),this.handleResize(),this.update()};(TrackballControls.prototype=Object.create(THREE.EventDispatcher.prototype)).constructor=TrackballControls;export default TrackballControls;
//# sourceMappingURL=/sm/a1615e3db251fa6c187d526362f603d0e9458a313c47c2046cd9eb1fbb7b8bf9.map